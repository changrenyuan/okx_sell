# OKX 量化交易机器人配置文件

# API 配置
api:
  key: "YOUR_API_KEY"
  secret: "YOUR_API_SECRET"
  passphrase: "YOUR_API_PASSPHRASE"
  flag: "0"  # 0=实盘，1=模拟盘

# 交易配置
trade:
  symbol: "ETH-USDT-SWAP"
  leverage: 2
  margin_mode: "isolated"
  order_mode: "net"
  timeframe_main: "5m"
  timeframe_confirm: "15m"

# 风控参数
risk:
  max_position_risk: 0.005  # 单笔最大亏损 0.5%
  max_daily_drawdown: 0.02  # 最大日回撤 2%
  max_trades_per_day: 6     # 每日最大交易次数
  risk_per_trade: 0.003     # 每次交易风险 0.3%

# 策略 A：过热回落做空
strategy_overheat_short:
  enabled: true
  min_daily_gain: 0.04  # 最小当日涨幅 4%
  min_funding_rate: 0.0002  # 最小资金费率 +0.02%
  stop_loss_offset: 0.0025  # 止损偏移 0.25%
  take_profit_1r: 1.0  # 1R 平 50%
  take_profit_2r: 1.5  # 1.5R 平剩余
  max_hold_time: 1800  # 最长持仓时间（秒）30分钟
  min_hold_time: 600   # 最短持仓时间（秒）10分钟

# 策略 B：趋势做多
strategy_trend_long:
  enabled: true
  max_funding_rate: 0.0002  # 最大资金费率 +0.02%
  min_funding_rate: -0.0001  # 最小资金费率 -0.01%
  stop_loss_offset: 0.002  # 止损偏移 0.2%
  take_profit_1r: 0.8  # 0.8R 平 30%
  take_profit_2r: 1.5  # 1.5R 平 50%
  trailing_stop: true  # 启用移动止损
  max_hold_time: 7200  # 最长持仓时间（秒）2小时
  min_hold_time: 300   # 最短持仓时间（秒）5分钟

# 技术指标参数
indicators:
  vwap_period: 390  # VWAP 周期（15分钟 x 26）
  ma_short: 5       # 短期 MA
  ma_mid: 15        # 中期 MA
  ma_long: 60       # 长期 MA
  atr_period: 14    # ATR 周期
  volume_check_periods: 3  # 成交量检查周期

# 日志配置
logging:
  level: "INFO"
  file: "trade.log"
  rotation: "10 MB"
  retention: "30 days"

# 市场参数
market:
  funding_rate_threshold: 0.0003  # 资金费率阈值 +/-0.03%
  volume_peak_ratio: 1.5  # 成交量峰值比例
  volume_drop_threshold: 0.2  # 成交量下降阈值 20%
  depth_levels: 5  # 深度检查档位数
